<mvc:View
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:plugins="sap.m.plugins"
    xmlns:semantic="sap.f.semantic"
    xmlns:sfb="sap.ui.comp.smartfilterbar"
    xmlns:smartTable="sap.ui.comp.smarttable"
    displayBlock="true"
    controllerName="fiorilibappname.controller.Worklist">

    <semantic:SemanticPage
        id="page"
        toggleHeaderOnTitleClick="false" 
        class="sapUiNoContentPadding">
        <semantic:titleHeading>
            <Title text="{i18n>worklist}" />
        </semantic:titleHeading>
        
        <semantic:content>
            <VBox class="fullWidthPage">
                <sfb:SmartFilterBar id="smartFilterBar"
                                               entitySet="ZC_BSK_LA_SOLUTION"
                                               enableBasicSearch="true"
                                               basicSearchFieldName="TechnicalName"
                                               persistencyKey="SmartFilter_Explored"
                                               beforeVariantFetch="onBeforeVariantFetch"
                                               afterVariantLoad="onAfterVariantLoad">
                    <sfb:controlConfiguration>
                        <sfb:ControlConfiguration
                            key="TypeDescription"
                            index="1"
                            label="Type Description"
                            width="300px"
                            visibleInAdvancedArea="true">
                            <sfb:customControl>
                                <MultiComboBox
                                    id="multiComboBoxType"
                                    items="{path: 'valueHelp>/ZBSK_C_VS_S_SOL_TYPE'}">
                                    <core:Item key="{valueHelp>Low}" text="{valueHelp>Text}"/>
                                </MultiComboBox>
                            </sfb:customControl>
                        </sfb:ControlConfiguration>
                        <sfb:ControlConfiguration
                            key="TechnicalName"
                            index="1"
                            label="Technical Name"
                            width="300px"
                            visibleInAdvancedArea="true"/>
                        <sfb:ControlConfiguration
                            key="Subtitle"
                            index="1"
                            label="Subtitle"
                            width="300px"
                            visibleInAdvancedArea="true"/>
                        <sfb:ControlConfiguration
                            key="StatusDescription"
                            index="1"
                            label="{i18n>labelStatus}"
                            width="300px"
                            visibleInAdvancedArea="true">
                            <sfb:customControl>
                                <MultiComboBox
                                    id="multiComboBoxStatus"
                                    items="{path: 'valueHelp>/ZBSK_C_VH_S_STATUS'}">
                                    <core:Item key="{valueHelp>Low}" text="{valueHelp>Text}"/>
                                </MultiComboBox>
                            </sfb:customControl>
                        </sfb:ControlConfiguration>
                    </sfb:controlConfiguration>
                </sfb:SmartFilterBar>
                <smartTable:SmartTable
                    id="idSmartSolutionTable"
                    smartFilterId="smartFilterBar"
                    beforeRebindTable="onBeforeRebindTable"
                    entitySet="ZC_BSK_LA_SOLUTION"
                    tableType="ResponsiveTable"
                    header="{i18n>worklistTitle}"
                    initiallyVisibleFields="TechnicalName,Subtitle,StatusDescription,TypeDescription"
                    useVariantManagement="true"
                    useTablePersonalisation="true"
                    enableAutoBinding="true"
                    showRowCount="true"
                    requestAtLeastFields="SolId,Status,SolType"
                    persistencyKey="SmartTableRefApp_Explored">
                    <smartTable:customToolbar>
                        <OverflowToolbar>
                            <!-- Jeszcze PoleProcess-->
                            <ToolbarSpacer />
                            <Button text="Create" press="onAddButtonPress" />
                        </OverflowToolbar>
                    </smartTable:customToolbar>
                    <Table id="idSolutionTable" mode="SingleSelectMaster" selectionChange="onPress" />
                </smartTable:SmartTable>
            </VBox>
        </semantic:content>
    </semantic:SemanticPage>
</mvc:View>
