<mvc:View 
    controllerName="fiorilibappname.controller.Detail"
    xmlns:internal="sap.landvisz.internal"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.uxap"
    xmlns:m="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:form="sap.ui.layout.form"
    xmlns:smartform="sap.ui.comp.smartform"
    height="100%">

    <ObjectPageLayout id="ObjectPageLayout" upperCaseAnchorBar="false">
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title text="{TechnicalName}" />
                </expandedHeading>
                <snappedHeading>
                    <m:HBox>
                        <m:VBox>
                            <m:Title text="{TechnicalName}" />
                            <m:Label text="{StatusDescription}" />
                        </m:VBox>
                    </m:HBox>
                </snappedHeading>
                <actions>
                    <m:Button text="Edit" type="Emphasized" press="onEditPress" />
                    <m:Button text="Delete" press="onDeletePress" />
                </actions>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>

        <headerContent>
            <m:FlexBox wrap="Wrap" fitContainer="true">
                <m:VBox class="sapUiLargeMarginEnd sapUiSmallMarginBottom">
                    <m:Title text="Description" class="sapUiTinyMarginBottom" />
                    <m:Text text="{Description}" />
                </m:VBox>
            </m:FlexBox>
        </headerContent>

        <sections>
            <ObjectPageSection title="TargetMappings">
        <subSections>
             <ObjectPageSubSection>
                    <m:Table id="targetMappingsTable" items="{path: 'to_Tar_Map'}">
                        <m:columns>
                            <m:Column>
                                <m:Text text="Target Mapping ID" />
                            </m:Column>
                            <m:Column>
                                <m:Text text="URL" />
                            </m:Column>
                            <m:Column>
                                <m:Text text="Type" />
                            </m:Column>
                            <m:Column>
                                <m:Text text="Param Value" />
                            </m:Column>
                        </m:columns>
                        <m:items>
                            <m:ColumnListItem>
                                <m:cells>
                                    <m:Text text="{TarMapId}" />
                                    <m:Text text="{Url}" />
                                    <m:Text text="{Type}" />
                                    <m:Text text="{ParamValue}" />
                                </m:cells>
                            </m:ColumnListItem>
                        </m:items>
                    </m:Table>
                </ObjectPageSubSection>
            </subSections>
            </ObjectPageSection>

            <ObjectPageSection title="Versions">
                <subSections>
                    <ObjectPageSubSection>

                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>

            <!-- Sekcja Service -->
            <ObjectPageSection title="Services">
    <subSections>
        <ObjectPageSubSection>
            <m:Table id="servicesTable" items="{path: 'to_Service'}">
                <m:columns>
                    <m:Column>
                        <m:Text text="Service ID" />
                    </m:Column>
                    <m:Column>
                        <m:Text text="URL" />
                    </m:Column>
                    <m:Column>
                        <m:Text text="Version" />
                    </m:Column>
                    <m:Column>
                        <m:Text text="Description" />
                    </m:Column>
                    <m:Column>
                        <m:Text text="ExtServName" />
                    </m:Column>
                    <m:Column>
                        <m:Text text="SoftCompVersion" />
                    </m:Column>
                    <m:Column>
                        <m:Text text="BeAuthRole" />
                    </m:Column>
                </m:columns>
                <m:items>
                    <m:ColumnListItem>
                        <m:cells>
                            <m:Text text="{ServiceId}" />
                            <m:Text text="{Url}" />
                            <m:Text text="{Version}" />
                            <m:Text text="{Description}" />
                            <m:Text text="{ExtServName}" />
                            <m:Text text="{SoftCompVersion}" />
                            <m:Text text="{BeAuthRole}" />

                        </m:cells>
                        </m:ColumnListItem>
                        </m:items>
                    </m:Table>
                </ObjectPageSubSection>
             </subSections>
            </ObjectPageSection>

            <!-- Sekcja Comments -->
            <ObjectPageSection title="Comments">
                <subSections>
                    <ObjectPageSubSection>
                        <l:VerticalLayout class="sapUiResponsiveMargin">
                            <m:FeedInput post="onPostComment" placeholder="Write a comment..."/>
                            <m:List id="commentsList" items="{path: '/ZC_BSK_LA_COMM'}">
                                <m:items>
                                    <m:FeedListItem sender="{Title}" text="{Text}" timestamp="{path: 'Created', type: 'sap.ui.model.type.DateTime', formatOptions: { style: 'short' }}"/>
                                </m:items>
                            </m:List>
                        </l:VerticalLayout>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>

            <!-- Sekcja Attachments -->
            <ObjectPageSection title="Attachments">
                <subSections>
                    <ObjectPageSubSection>

                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
        </sections>
    </ObjectPageLayout>
</mvc:View>
